(function(t){function e(e){for(var a,o,s=e[0],c=e[1],l=e[2],d=0,f=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&f.push(n[o][0]),n[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(f.length)f.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],a=!0,s=1;s<r.length;s++){var c=r[s];0!==n[c]&&(a=!1)}a&&(i.splice(e--,1),t=o(o.s=r[0]))}return t}var a={},n={app:0},i=[];function o(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=a,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(r,a,function(e){return t[e]}.bind(null,a));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/notgwent/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"0551":function(t,e,r){"use strict";var a=r("f13b"),n=r.n(a);n.a},"1b73":function(t,e,r){"use strict";var a=r("6953"),n=r.n(a);n.a},"25fb":function(t,e,r){"use strict";var a=r("d300"),n=r.n(a);n.a},"293f":function(t,e,r){"use strict";var a=r("aeed"),n=r.n(a);n.a},3672:function(t,e,r){"use strict";var a=r("99b3"),n=r.n(a);n.a},"3d25":function(t,e,r){"use strict";var a=r("5aa9"),n=r.n(a);n.a},4840:function(t,e,r){},4975:function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("f751"),r("097d");var a=r("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"main-container"}},[r("div",{class:"sidebar-container "+(t.isSidebarOpen?"open":"")},[r("sidebar",{attrs:{isOpen:t.isSidebarOpen}})],1),r("div",{class:"minibar-container "+(t.isMinibarOpen?"open":"")},[r("minibar",{attrs:{isOpen:t.isMinibarOpen}})],1),r("sidebar-toggle",{attrs:{onClick:t.onSidebarToggle,isOpen:t.isSidebarOpen}}),r("div",{staticClass:"card-container"},[r("preview-canvas")],1),r("div",{staticClass:"toolbar"},[r("div",{staticClass:"tabs-container"},[r("router-link",{staticClass:"tab one",attrs:{to:{name:"FeaturesTab"}}},[t._v("Features")]),r("router-link",{staticClass:"tab two",attrs:{to:{name:"ArtworkTab"}}},[t._v("Artwork")]),r("router-link",{staticClass:"tab three",attrs:{to:{name:"ImportTab"}}},[t._v("Import")]),r("router-link",{staticClass:"tab four",attrs:{to:{name:"LibraryTab"}}},[t._v("Library")]),r("hr")],1),r("div",{staticClass:"router-view-container"},[r("router-view")],1)])],1)},i=[],o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"minibar"},[r("div",{staticClass:"file-buttons"},[r("the-new-card-button",{attrs:{"is-icon-only":!0}}),r("base-divider"),r("the-save-card-button",{attrs:{"is-icon-only":!0}}),r("the-update-card-button",{attrs:{"is-icon-only":!0}}),r("base-divider"),r("the-render-card-button",{attrs:{"is-icon-only":!0}})],1)])},s=[],c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"divider"})},l=[],u=(r("25fb"),r("2877")),d={},f=Object(u["a"])(d,c,l,!1,null,"24b31684",null),p=f.exports,h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("base-button",{attrs:{text:"New file",icon:"fa-file",onClick:t.onClick,isIconOnly:t.isIconOnly}})},m=[],b=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",{staticClass:"base-button",on:{click:t.onClickInternal}},[r("i",{class:t.iconClass}),t._v("   "+t._s(t.buttonText)),t._t("default")],2)},g=[],v={props:["text","onClick","icon","isIconOnly"],computed:{buttonText:function(){return this.isIconOnly?"":this.text},iconClass:function(){return this.icon?"fas "+this.icon:"hidden"}},methods:{onClickInternal:function(t){this.onClick&&this.onClick(t),this.$emit("click",t)}}},O=v,y=(r("e402"),Object(u["a"])(O,b,g,!1,null,"4a46d032",null)),C=y.exports,w={props:["isIconOnly"],components:{BaseButton:C},methods:{onClick:function(){this.$store.commit("cardState/clear")}}},x=w,S=Object(u["a"])(x,h,m,!1,null,null,null),I=S.exports,T=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("base-button",{attrs:{text:"Save to Library",icon:"fa-save",onClick:t.onClick,isIconOnly:t.isIconOnly}})},k=[],A={props:["isIconOnly"],components:{BaseButton:C},methods:{onClick:function(){var t=this.$store.state.cardState;this.$store.commit("cardLibrary/push",t)}}},_=A,E=Object(u["a"])(_,T,k,!1,null,null,null),j=E.exports,D=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("base-button",{attrs:{text:"Update in Library",icon:"fa-paste",isIconOnly:t.isIconOnly},on:{click:t.onClick}})},L=[],P=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),N=r("2f62");function R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function B(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?R(Object(r),!0).forEach((function(e){Object(P["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var M={props:["isIconOnly"],components:{BaseButton:C},computed:B({},Object(N["d"])({cardData:function(t){return t.cardState}})),methods:B({},Object(N["b"])({updateCard:"cardLibrary/updateCard"}),{onClick:function(){this.updateCard(this.cardData)}})},F=M,Y=Object(u["a"])(F,D,L,!1,null,null,null),H=Y.exports,U=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("base-button",{attrs:{text:"Save as image",icon:"fa-download",onClick:t.onClick,isIconOnly:t.isIconOnly}})},X=[],z={CARD_STATE_UPDATED:"cardStateUpdated",SAVE_CARD_AS_IMAGE:"saveCardAsImage",DELETE_FROM_LIBRARY:"deleteFromLibrary",SELECT_ALL_LIBRARY:"selectAllLibrary",UNSELECT_ALL_LIBRARY:"unselectAllLibrary",ENABLE_LIBRARY_SELECTION:"enableLibrarySelection",CANCEL_LIBRARY_SELECTION:"cancelLibrarySelection",TOGGLE_SIDEBAR:"toggleSidebar"},Z={DEFAULT_CARD_TEXT:"#CCCCCC"},W={PRIME:"prime",ACTION:"action",PATH:"path",STATE:"state",RELEASE:"release",LEADER:"leader",HERO:"hero",PAWN:"pawn",SPELL:"spell"},J={APPEND:"append",REPLACE:"replace"},V={PROTOTYPE:"prototype",PRODUCTION:"production"},K={NORMAL:"normal",HEALING:"healing"},G={NOT_SELECTED:"not_selected",LOADING:"loading",PARSED:"parsed",INVALID:"invalid"},q={ATTACK_COST:"attack_cost",HEALTH_COST:"health_cost",TRIBE_COST:"tribe_cost",DESCRIPTION:"description",TOTAL:"total"},Q={props:["isIconOnly"],components:{BaseButton:C},methods:{onClick:function(){this.$root.$emit(z.SAVE_CARD_AS_IMAGE)}}},tt=Q,et=Object(u["a"])(tt,U,X,!1,null,null,null),rt=et.exports,at={components:{BaseDivider:p,TheNewCardButton:I,TheSaveCardButton:j,TheUpdateCardButton:H,TheRenderCardButton:rt}},nt=at,it=(r("1b73"),Object(u["a"])(nt,o,s,!1,null,"031613d8",null)),ot=it.exports,st=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"sidebar"},[r("div",{staticClass:"file-buttons"},[r("the-new-card-button",{attrs:{"is-icon-only":!1}}),r("base-divider"),r("the-save-card-button",{attrs:{"is-icon-only":!1}}),r("the-update-card-button",{attrs:{"is-icon-only":!1}}),r("base-divider"),r("the-render-card-button",{attrs:{"is-icon-only":!1}})],1)])},ct=[],lt={components:{BaseDivider:p,TheNewCardButton:I,TheSaveCardButton:j,TheUpdateCardButton:H,TheRenderCardButton:rt}},ut=lt,dt=(r("0551"),Object(u["a"])(ut,st,ct,!1,null,"6737f4bc",null)),ft=dt.exports,pt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"sidebar-toggle"},[r("base-button",{class:t.isOpen?"expanded":"",on:{click:t.onClick}},[r("i",{staticClass:"fas fa-bars"})])],1)},ht=[],mt={components:{BaseButton:C},props:["onClick","isOpen"]},bt=mt,gt=(r("e5ed"),Object(u["a"])(bt,pt,ht,!1,null,"4135dfa5",null)),vt=gt.exports,Ot=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"canvas-container"},[r("canvas",{ref:"primaryCanvas",staticClass:"primary"}),r("canvas",{ref:"secondaryCanvas",staticClass:"secondary"})])},yt=[],Ct=(r("a481"),r("4917"),r("6b54"),r("28a5"),r("0b21"),r("f559"),function(t){var e=new Date(t),r=""+e.getHours(),a=""+e.getMinutes(),n=""+(e.getMonth()+1),i=""+e.getDate(),o=e.getFullYear();return r.length<2&&(r="0"+r),a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),i.length<2&&(i="0"+i),[r,a].join(":")+" "+[i,n,o].join(".")}),wt=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0,r="x"===t?e:3&e|8;return r.toString(16)}))},xt=function(t){return t.replace(/(^|\s)[a-zA-Zа-яА-Я]/g,(function(t){return" "===t[0]?t[1].toUpperCase():t[0].toLowerCase()}))},St=function(t){return t.substring(0,1).toUpperCase()+t.substring(1)},It=function(t){var e=/<[^>]*>/g;return t.replace(e,"").replace(/\*/g,"")},Tt=function(t,e,r){var a=new Blob([t],{type:r}),n=document.createElement("a"),i=URL.createObjectURL(a);n.href=i,n.download=e,document.body.appendChild(n),n.click(),setTimeout((function(){document.body.removeChild(n),window.URL.revokeObjectURL(i)}),0)},kt=function(t,e){if(!t||0===t.length)return"sw-unnamed.png";var r=t.replace(/<[^>]*>/g,"");r=xt(r);var a=/[….,<>:"/\\|?*\x00-\x31]/g;return r=r.replace(a,""),r=r.trim(),"sw-"+r+"."+e},At=r("15d3");function _t(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function Et(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_t(Object(r),!0).forEach((function(e){Object(P["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_t(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var jt={data:function(){return{imageCache:{},imagesCached:0,customArtwork:null,previewContexts:[],activePreviewContext:0,cacheWaitingTimer:null,canvasRenderDebounceTimer:null,unsubscribeFromCardStore:function(){},highlightEnabled:!1,currentColor:"",colorStack:[],mouseDownPosition:null}},watch:{imagesCached:function(t){t===this.imageUrls.length&&this.customArtworkBase64&&!this.customArtwork&&this.preloadCustomArtwork()},customArtworkBase64:function(){this.preloadCustomArtwork()},customArtOffsetX:function(){this.preloadCustomArtwork()},customArtOffsetY:function(){this.preloadCustomArtwork()},customArtZoom:function(){this.preloadCustomArtwork()},customArtwork:function(){this.renderCanvasAfterDelay()}},created:function(){for(var t=this,e=function(e){var r=t.imageUrls[e],a="resources/"+r+".png",n=new Image;n.onload=function(){t.imagesCached+=1,t.imageCache[r]=n},n.onerror=function(){t.imagesCached+=1,console.error("Unable to load image: "+r+".png")},n.src=a},r=0;r<this.imageUrls.length;r++)e(r)},mounted:function(){var t=this,e=this.$refs.primaryCanvas,r=this.$refs.secondaryCanvas,a=this.canvasWidth,n=this.canvasHeight,i=window.devicePixelRatio||1;e.width=a*i,e.height=n*i,r.width=a*i,r.height=n*i,e.style.width=a,e.style.height=n,r.style.width=a,r.style.height=n;var o=e.getContext("2d"),s=r.getContext("2d");o.scale(i,i),s.scale(i,i),this.previewContexts.push(o),this.previewContexts.push(s),e.style.display="none",r.style.display="none",this.$root.$on(z.SAVE_CARD_AS_IMAGE,(function(){t.renderCanvas(),t.saveCanvasToFile()})),this.unsubscribeFromCardStore=this.$store.subscribe((function(e,r){e.type.startsWith("cardState")&&t.renderCanvasAfterDelay()})),this.$root.$on(z.CARD_STATE_UPDATED,(function(){t.renderCanvasAfterDelay()})),this.renderCanvasAfterDelay(),window.addEventListener("resize",(function(){t.renderCanvasAfterDelay()})),document.fonts.addEventListener("loadingdone",(function(){t.renderCanvasAfterDelay()}));var c=function(e){e=32*-Math.sign(e),t.customArtZoom+e>=0&&t.setCustomImageZoom(t.customArtZoom+e)};e.addEventListener("wheel",(function(t){return c(t.deltaY)})),r.addEventListener("wheel",(function(t){return c(t.deltaY)}));var l=function(r){if(0===r.button){var a=r.pageX-e.offsetLeft,n=r.pageY-e.offsetTop;t.mouseDownPosition={x:a,y:n}}},u=function(r){if(t.mouseDownPosition){r.preventDefault();var a=r.pageX-e.offsetLeft,n=r.pageY-e.offsetTop,i={x:a-t.mouseDownPosition.x,y:n-t.mouseDownPosition.y};t.setCustomImageOffsetX(t.customArtOffsetX-i.x),t.setCustomImageOffsetY(t.customArtOffsetY-i.y),t.mouseDownPosition={x:a,y:n}}},d=function(){t.mouseDownPosition=null};e.addEventListener("mousedown",l),r.addEventListener("mousedown",l),window.addEventListener("mousemove",u),window.addEventListener("mouseup",d)},beforeDestroy:function(){this.unsubscribeFromCardStore(),this.$root.$off(z.SAVE_CARD_AS_IMAGE),this.$root.$off(z.CARD_STATE_UPDATED)},computed:Et({},Object(N["d"])({customArtOffsetX:function(t){return t.cardState.customImageOffsetX},customArtOffsetY:function(t){return t.cardState.customImageOffsetY},customArtZoom:function(t){return t.cardState.customImageZoom},editorMode:function(t){return t.cardImporter.editorMode}}),{previewContext:function(){return this.previewContexts[this.activePreviewContext]},displayedContext:function(){var t=0;return 0===this.activePreviewContext&&(t=1),this.previewContexts[t]},customArtworkBase64:function(){return this.$store.state.cardState.customImageData},canvasSize:function(){return"408x584"},canvasWidth:function(){return parseInt(this.canvasSize.split("x")[0])},canvasHeight:function(){return parseInt(this.canvasSize.split("x")[1])},imageUrls:function(){return["empty","bg-clean","bg-textured","bg-name-modern","bg-initiative","bg-description","bg-tribe-modern","bg-element-generic","bg-element-damage","bg-element-healing","bg-element-alteration","bg-element-summoning","bg-element-control","bg-element-sacrifice","bg-stats-left","bg-stats-right","bg-stats-middle","stat-attack-claw","stat-attack-heal","stat-attack-range","stat-health","stat-armor"]}}),methods:Et({},Object(N["c"])({setCustomImageOffsetX:"cardState/setCustomImageOffsetX",setCustomImageOffsetY:"cardState/setCustomImageOffsetY",setCustomImageZoom:"cardState/setCustomImageZoom"}),{swapContext:function(){this.previewContexts[this.activePreviewContext].canvas.style["z-index"]=10,this.previewContexts[this.activePreviewContext].canvas.style.display="block",0===this.activePreviewContext?this.activePreviewContext=1:this.activePreviewContext=0,this.previewContexts[this.activePreviewContext].canvas.style["z-index"]=0},renderCanvasAfterDelay:function(){null===this.canvasRenderDebounceTimer&&(this.canvasRenderDebounceTimer=setTimeout(this.renderCanvas,8))},clearCanvasRenderThrottleTimer:function(){this.canvasRenderDebounceTimer=null},renderCanvas:function(){if(this.imagesCached<this.imageUrls.length)return this.cacheWaitingTimer=setTimeout(this.renderCanvas,50),void console.info("[Card render] Waiting for image cache: "+this.imagesCached+"/"+this.imageUrls.length);var t=this.previewContext;t.clearRect(0,0,t.canvas.width,t.canvas.height),t.miterLimit=2,t.lineJoin="round",t.strokeStyle="black";var e=this.imageCache,r="bg-clean",a=e[r].width,n=e[r].height,i=this.$el.offsetWidth,o=a/(a/n),s=$(this.$el).parent();$(this.$el).attr("width",a).attr("height",o),$(this.$el).css("height",o),$(this.$el).css("max-width",a),$(this.$el).css("margin-top",s.height()/2-o/2),$(this.$el).parent().css("min-width",a),this.customArtwork?this.renderCustomArtwork(t):this.renderImage(t,r);var c=this.$store.state.cardState;if(c.cardType===W.PAWN?this.renderImage(t,"bg-element-generic"):c.cardType===W.HERO?this.renderImage(t,"bg-element-healing"):c.cardType===W.LEADER?this.renderImage(t,"bg-element-summoning"):c.cardType===W.SPELL&&this.renderImage(t,"bg-element-control"),this.editorMode===V.PRODUCTION)return this.clearCanvasRenderThrottleTimer(),void this.swapContext();if(""!==c.cardDescription&&(this.renderImage(t,"bg-description"),this.renderCardText(t,{text:c.cardDescription,font:this.getFont("18px",c.cardDescription),color:Z.DEFAULT_CARD_TEXT,targetX:i/2,targetY:392,lineHeight:24,maxWidth:i-24,maxHeight:144})),""===c.cardName&&""===c.cardTitle||this.renderImage(t,"bg-name-modern"),""!==c.cardName&&""===c.cardTitle?this.renderCardText(t,{text:c.cardName,font:this.getFont("22px",c.cardName),color:"black",targetX:390,targetY:54,lineHeight:24,maxWidth:220,maxHeight:64,verticalAlign:"center",horizontalAlign:"right"}):""!==c.cardName&&""!==c.cardTitle&&this.renderCardText(t,{text:c.cardName,font:this.getFont("22px",c.cardName),color:"black",targetX:390,targetY:64,lineHeight:24,horizontalAlign:"right"}),""!==c.cardTitle&&this.renderCardText(t,{text:c.cardTitle,font:this.getFont("16px",c.cardTitle),color:"black",targetX:390,targetY:88,lineHeight:24,horizontalAlign:"right"}),""!==c.cardTribe){var l=c.cardTribe.split(";");for(var u in l){var d=l[u].trim(),f=40*u;this.renderImage(t,"bg-tribe-modern",{verticalOffset:f}),this.renderCardText(t,{text:d,font:this.getFont("18px",d),color:"black",targetX:390,targetY:129+f,lineHeight:24,horizontalAlign:"right"})}}var p=c.cardType===W.HERO||c.cardType===W.LEADER||c.cardType===W.PAWN,h=0;if(p){this.renderImage(t,"bg-stats-right");var m=2;c.attack>=0&&(t.font="64px BrushScript",m+=Math.round(t.measureText(c.attack.toString()).width/5)),1!==c.attackRange&&(m+=10),c.attackType===K.HEALING&&(m+=1),c.healthArmor>0&&(m+=10);for(var b=0;b<m;b++)this.renderImage(t,"bg-stats-middle",{horizontalOffset:5*-b});this.renderImage(t,"bg-stats-left",{horizontalOffset:5*-m})}if(p&&c.healthArmor>0&&(this.renderImage(t,"stat-armor",{horizontalOffset:5*-h}),this.renderCardText(t,{text:c.healthArmor.toString(),font:"22px BrushScript",color:"white",targetX:371-5*h,targetY:557,lineHeight:24}),h+=10),p&&1!==c.attackRange&&(this.renderImage(t,"stat-attack-range",{horizontalOffset:5*-h}),this.renderCardText(t,{text:c.attackRange.toString(),font:"22px BrushScript",color:"white",targetX:368-5*h,targetY:557,lineHeight:24}),h+=10),p&&c.attack>=0){this.renderCardText(t,{text:c.attack.toString(),font:"64px BrushScript",color:"black",targetX:382-5*h,targetY:572,lineHeight:24,horizontalAlign:"right"});var g=Math.round(t.measureText(c.attack.toString()).width);g=5*Math.ceil(g/5),c.attackType===K.NORMAL?this.renderImage(t,"stat-attack-claw",{horizontalOffset:-g-10-5*h}):c.attackType===K.HEALING&&this.renderImage(t,"stat-attack-heal",{horizontalOffset:-g-10-5*h}),h+=g/5}p&&c.power>=1&&(this.renderImage(t,"bg-initiative"),this.renderCardText(t,{text:c.power.toString(),font:"70px BrushScript",color:"black",targetX:58,targetY:65,lineHeight:24})),this.clearCanvasRenderThrottleTimer(),this.swapContext()},getFont:function(t,e){var r="K2D",a=/[а-яА-Я]/g.exec(e);return a&&(r="Roboto"),t+" "+r},renderCardText:function(t,e){var r=e.text;if(r&&0!==r.length){var a=e.targetX,n=e.targetY,i=e.font||this.getFont("16px",r),o=e.color||"black",s=e.lineHeight||16,c=e.maxWidth||2*a,l=e.maxHeight||s,u=e.horizontalAlign||"center",d=e.verticalAlign||"center",f=e.outline||0;t.font=i,t.fillStyle=o;var p=n+l,h=r.split("\n"),m=n,b=[];while(h.length>0){var g=h[0].split(" "),v=null,O=null;while(g.length>0){O=g[0],null!==v&&(O=v+" "+O);var y=t.measureText(It(O)).width;if(y<c&&m<p)v=O,g.splice(0,1);else{if(null==v){v=O;break}if(m+s>p)break;b.push({text:v,targetX:a,targetY:m}),m+=s,v=null}}if(m+s>p)break;h.splice(0,1),b.push({text:v,targetX:a,targetY:m}),h.length>0&&(m+=1*s)}var C=0;for(var w in"center"===d?C=(p-m)/2-s/2:"bottom"===d&&(C=p-m-s),this.resetDescriptionColors(t,o),b){var x=b[w];this.renderCardTextLine(t,{text:x.text,targetX:x.targetX,targetY:x.targetY+C,align:u,outline:f})}}},renderCardTextLine:function(t,e){var r=e.text,a=e.targetX,n=e.targetY,i=e.align,o=e.outline;if(null===r)throw Error("Unable to render null text");var s=It(r),c=t.measureText(s).width,l=a;"center"===i?l=a-c/2:"right"===i&&(l=a-c);for(var u=/<(?:color|c)=['"]?([a-zA-Z0-9#]+)['"]?>/,d=/<\/(?:color|c)>/,f=l,p="",h=0;h<r.length;h++){var m=r.charAt(h);"<"===m||"*"===m?(this.renderDescriptionText(t,p,f,n,o),f+=t.measureText(p).width,p="","*"===m?this.highlightEnabled=!this.highlightEnabled:p+=m):">"===m?(p+=m,u.test(p)?this.setCurrentColor(t,p.match(u)[1]):d.test(p)&&this.popColorStack(t),p=""):p+=m}this.renderDescriptionText(t,p,f,n,o)},renderDescriptionText:function(t,e,r,a,n){this.highlightEnabled&&this.setCurrentColor(t,"white"),n&&(t.lineWidth=2*n,t.strokeText(e,r,a)),t.fillText(e,r,a),this.highlightEnabled&&this.popColorStack(t)},setCurrentColor:function(t,e){this.colorStack.push(this.currentColor),this.currentColor=e,t.fillStyle=this.currentColor},popColorStack:function(t){this.currentColor=this.colorStack.pop(),t.fillStyle=this.currentColor},resetDescriptionColors:function(t,e){this.currentColor=e,this.highlightEnabled=!1,t.fillStyle=e},preloadCustomArtwork:Object(At["b"])(8,(function(){var t=this;if(this.customArtworkBase64){var e=new Image;e.onload=function(){t.customArtwork=t.applyCardMask(e)},e.src=this.customArtworkBase64}else this.customArtwork=null})),applyCardMask:function(t){var e=document.createElement("canvas");e.width=this.canvasWidth,e.height=this.canvasHeight;var r=e.getContext("2d");r.drawImage(this.imageCache["bg-clean"],0,0,this.canvasWidth,this.canvasHeight),r.globalCompositeOperation="source-atop";var a=this.canvasWidth/this.canvasHeight,n=this.canvasWidth+this.customArtZoom,i=t.height*(n/t.width),o=(i-this.canvasHeight)/2,s=this.customArtZoom/2;return t.width>t.height*a&&(i=this.canvasHeight+this.customArtZoom,n=t.width*(i/t.height),s=(n-this.canvasWidth)/2,o=this.customArtZoom/2),s+=this.customArtOffsetX,o+=this.customArtOffsetY,r.drawImage(t,-s,-o,n,i),e},renderImage:function(t,e,r){var a=this.imageCache[e];if(void 0!==a){r=r||{};var n=r.horizontalOffset||0,i=r.verticalOffset||0;t.drawImage(a,n,i,this.canvasWidth,this.canvasHeight)}else console.error("Unable to load image: "+e+".png")},renderCustomArtwork:function(t){t.drawImage(this.customArtwork,0,0,this.canvasWidth,this.canvasHeight)},saveCanvasToFile:function(){var t=this.displayedContext.canvas.toDataURL("image/png").replace("image/png","image/octet-stream"),e=this.$store.state.cardState.cardName,r=document.createElement("a");document.body.appendChild(r),r.setAttribute("href",t),r.setAttribute("download",kt(e,"png")),r.click(),setTimeout((function(){document.body.removeChild(r)}),0)}})},Dt=jt,Lt=(r("9f17"),Object(u["a"])(Dt,Ot,yt,!1,null,"758204ec",null)),Pt=Lt.exports,Nt={load:function(){return JSON.parse('{"data": []}')},save:function(t){}},Rt=function(t){t.commit("cardLibrary/load",Nt.load()),t.subscribe((function(t,e){if("cardLibrary/push"===t.type||"cardLibrary/delete"===t.type){var r=JSON.parse(JSON.stringify(e.cardLibrary.data));for(var a in r){var n=r[a];n.customImageData=""}Nt.save(r)}}))},$t=function(t){Bt.init(t);var e=JSON.parse(JSON.stringify(t.state));Bt.addState(e);var r=Object(At["a"])(300,(function(t){Bt.addState(JSON.parse(JSON.stringify(t)))}));t.subscribe((function(t,e){r(e)}))},Bt={store:{},history:[],currentIndex:-1,init:function(t){this.store=t},addState:function(t){this.currentIndex+1<this.history.length&&this.history.splice(this.currentIndex+1),this.history.push({state:t}),this.currentIndex++},undo:function(t){var e=this.history[this.currentIndex-1];void 0!==e&&(this.store.replaceState(JSON.parse(JSON.stringify(e.state))),this.fireEvents(t,this.history[this.currentIndex],e),this.currentIndex--)},redo:function(t){var e=this.history[this.currentIndex+1];void 0!==e&&(this.store.replaceState(JSON.parse(JSON.stringify(e.state))),this.fireEvents(t,this.history[this.currentIndex],e),this.currentIndex++)},fireEvents:function(t,e,r){JSON.stringify(e.state.cardState)!==JSON.stringify(r.state.cardState)&&t.$emit(z.CARD_STATE_UPDATED),e&&JSON.stringify(e.state.cardLibrary)!==JSON.stringify(r.state.cardLibrary)&&Nt.save(r.state.cardLibrary.data)}},Mt={components:{minibar:ot,sidebar:ft,sidebarToggle:vt,previewCanvas:Pt},data:function(){return{isSidebarOpen:!1}},computed:{isMinibarOpen:function(){return!this.isSidebarOpen}},methods:{onSidebarToggle:function(){this.isSidebarOpen=!this.isSidebarOpen}},mounted:function(){var t=this;window.addEventListener("keydown",(function(e){"KeyZ"!==e.code||!e.ctrlKey||e.metaKey||e.shiftKey||e.altKey?"KeyY"!==e.code||!e.ctrlKey||e.metaKey||e.shiftKey||e.altKey||(Bt.redo(t.$root),e.preventDefault()):(Bt.undo(t.$root),e.preventDefault())})),window.addEventListener("paste",(function(e){var r=(e.clipboardData||e.originalEvent.clipboardData).items;for(var a in r){var n=r[a];"file"===n.kind&&function(){var e=n.getAsFile(),r=new FileReader;r.onloadend=function(){t.$store.commit("cardState/setCustomImageData",r.result)},r.readAsDataURL(e)}()}}))}},Ft=Mt,Yt=(r("5c0b"),Object(u["a"])(Ft,n,i,!1,null,null,null)),Ht=Yt.exports,Ut=r("8c4f"),Xt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("transition",{attrs:{name:"slide-fade",appear:""}},[r("div",{staticClass:"toolbar-tab tab-features"},[r("base-textbox",{attrs:{value:t.cardName,placeholder:"Name"},on:{input:t.setCardName}},[t._v("Card name")]),r("base-textbox",{attrs:{value:t.cardTitle,placeholder:"Title"},on:{input:t.setCardTitle}},[t._v("Card title")]),r("base-divider"),r("card-budget-label",{attrs:{"displayed-label":t.DisplayedBudgetLabel.TRIBE_COST}}),r("base-textbox",{attrs:{value:t.cardTribe,placeholder:"Tribe"},on:{input:t.setCardTribe}},[t._v("Card tribes")]),r("base-divider"),r("card-budget-label"),r("base-textbox",{attrs:{value:t.cardDescription,rows:6,placeholder:"A description of the card's effect"},on:{input:t.setCardDescription}},[t._v("Card description")]),r("base-divider"),r("div",{staticClass:"dropdowns"},[r("card-type-dropdown")],1),r("base-divider"),r("card-budget-label",{attrs:{"displayed-label":t.DisplayedBudgetLabel.ATTACK_COST}}),r("div",{staticClass:"dropdowns"},[r("base-textbox",{attrs:{value:t.cardPower,placeholder:"10"},on:{input:t.setCardPower}},[t._v("Power")]),r("base-textbox",{attrs:{value:t.cardAttack,placeholder:"5"},on:{input:t.setCardAttack}},[t._v("Attack")]),r("card-attack-range-dropdown"),r("card-attack-type-dropdown"),r("card-health-armor-dropdown")],1)],1)])},zt=[],Zt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"text-input"},[r("label",[t._t("default")],2),t.multiline?t._e():r("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"card-title",attrs:{type:"text",placeholder:t.placeholder,readonly:t.readonly},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}}),t.multiline?r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"card-title",attrs:{rows:t.rows,placeholder:t.placeholder,readonly:t.readonly},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}}):t._e()])},Wt=[],Jt=(r("c5f6"),{props:{rows:Number,value:[String,Number],onInput:Function,readonly:Boolean,placeholder:String},computed:{text:{get:function(){return this.value},set:function(t){this.onInput&&this.onInput(t),this.$emit("input",t)}},multiline:function(){return void 0!==this.rows&&this.rows>1}}}),Vt=Jt,Kt=(r("5f8a"),Object(u["a"])(Vt,Zt,Wt,!1,null,"790c0de5",null)),Gt=Kt.exports,qt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card-budget-label"},[r("span",[r("i",{staticClass:"fas fa-coins"}),t.isDisplayingAttackCost?r("span",[t._v(" Budget cost: "+t._s(t.powerCost))]):t._e(),t.isDisplayingTribeCost?r("span",[t._v(" Budget cost: "+t._s(t.tribeCost))]):t._e(),t.isDisplayingDescriptionLabel?r("span",[t._v(" Card effect budget: "+t._s(t.budget)+" / "+t._s(t.maximumBudget))]):t._e()])])},Qt=[];function te(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function ee(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?te(Object(r),!0).forEach((function(e){Object(P["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var re={props:{displayedLabel:String},components:{},computed:ee({},Object(N["d"])({type:function(t){return t.cardState.cardType},power:function(t){return t.cardState.power},attack:function(t){return t.cardState.attack},attackRange:function(t){return t.cardState.attackRange},attackType:function(t){return t.cardState.attackType},healthArmor:function(t){return t.cardState.healthArmor},initiative:function(t){return t.cardState.initiative},tribe:function(t){return t.cardState.cardTribe},description:function(t){return t.cardState.cardDescription}}),{isDisplayingAttackCost:function(){return this.displayedLabel===q.ATTACK_COST},isDisplayingTribeCost:function(){return this.displayedLabel===q.TRIBE_COST},isDisplayingDescriptionLabel:function(){return!this.displayedLabel||this.displayedLabel===q.DESCRIPTION},powerCost:function(){var t=this.power;return t+=5*this.attack,t+=5*(this.attackRange-1),t+=5*this.healthArmor,Math.round(t)},tribeCost:function(){var t=0;return this.tribe.length>0&&(t=Math.floor(2.5*this.tribe.split(";").length)),Math.round(t)},descriptionCost:function(){var t=0,e=/<cost=([0-9\-.]+)[\s/]*>/g,r=e.exec(this.description);while(r)t+=parseInt(r[1]),r=e.exec(this.description);return t},budget:function(){var t=this.powerCost+this.tribeCost+this.descriptionCost;return this.maximumBudget-t},maximumBudget:function(){return this.type===W.LEADER?150:this.type===W.HERO?100:75}}),methods:ee({},Object(N["c"])({setInitiative:"cardState/setInitiative"}),{onInput:function(t){if(t.length>0&&isNaN(t))this.setInitiative(50);else if(0!==t.length){var e=parseInt(t),r=Math.max(1,Math.min(e,99));this.setInitiative(-1),this.setInitiative(r)}}})},ae=re,ne=(r("eab7"),Object(u["a"])(ae,qt,Qt,!1,null,"ae957eec",null)),ie=ne.exports,oe=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("dropdown",{attrs:{items:t.items,zIndex:"30",selectedValue:t.selectedType,onSelect:t.onSelect}},[t._v("Type")])},se=[],ce=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"dropdown-wrapper"},[r("label",[t._t("default")],2),r("div",{staticClass:"card-drop"},[r("base-button",{staticClass:"button-top",on:{click:t.onTopClick}},[r("i",{class:t.getIconClass(t.activeItem)}),t._v(" "),r("span",{staticClass:"label-active"},[t._v(t._s(t.activeItem.title)+" ")]),r("span",{staticClass:"caret-down"},[t._v(" "),r("i",{staticClass:"fas fa-caret-down"}),t._v(" ")])]),r("ul",t._l(t.items,(function(e){return r("li",{key:e.value,class:e===t.activeItem?"active":""},[r("base-button",{on:{click:function(r){return t.onItemClick(e)}}},[r("i",{class:t.getIconClass(e)}),t._v(" "+t._s(e.title))])],1)})),0)],1)])},le=[],ue=(r("7514"),r("6762"),r("2fdb"),{components:{BaseButton:C},props:["id","items","selectedValue","onSelect","zIndex"],data:function(){return{state:"closed",cards:null,dropdown:null,links:null,li:null,elementCount:0}},computed:{zIndexInt:function(){return parseInt(this.zIndex)},activeItem:{get:function(){for(var t=this.items,e=0;e<t.length;e++)if(t[e].value===this.selectedValue)return t[e];return{}},set:function(t){void 0!==this.onSelect&&this.onSelect(t.value),this.$emit("select",t.value)}}},methods:{open:function(){this.state="active",this.dropdown.addClass("active"),this.li.removeClass("closed"),this.li.each((function(t){$(this).css("top",$(this).height()*(t+1))}))},close:function(){this.state="closed",this.dropdown.removeClass("active"),this.li.addClass("closed"),this.li.each((function(){$(this).css("top",0)}))},onTopClick:function(){"active"===this.state?this.close():this.open()},onItemClick:function(t){for(var e=this.items,r=0;r<e.length;r++)e[r]===t&&(this.activeItem=t);this.close()},getIconClass:function(t){return void 0!==t.icon&&t.icon.includes("fab")?t.icon:void 0!==t.icon?"fas "+t.icon:"no-icon"}},mounted:function(){this.cards=$(this.$el).find(".card-drop"),this.dropdown=this.cards.find(".button-top"),this.links=this.cards.find("ul>li>button"),this.li=this.links.parent("li"),this.elementCount=this.links.length;var t=this.zIndexInt,e=this.elementCount;this.dropdown.css("z-index",t+e+1),this.li.each((function(r){$(this).css("z-index",t+e-r)})),this.close()}}),de=ue,fe=(r("3d25"),Object(u["a"])(de,ce,le,!1,null,"2aa66586",null)),pe=fe.exports,he={components:{dropdown:pe},methods:{onSelect:function(t){this.selectedType=t}},computed:{selectedType:{get:function(){return this.$store.state.cardState.cardType},set:function(t){this.$store.commit("cardState/setCardType",t)}},items:function(){return[{title:"Leader",icon:"fa-chess-queen",value:W.LEADER},{title:"Hero",icon:"fa-chess-knight",value:W.HERO},{title:"Pawn",icon:"fa-chess-pawn",value:W.PAWN},{title:"Spell",icon:"fa-chess-rook",value:W.SPELL}]}}},me=he,be=Object(u["a"])(me,oe,se,!1,null,null,null),ge=be.exports,ve=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("base-dropdown",{attrs:{items:t.items,zIndex:"20",selectedValue:t.attackType},on:{select:t.setAttackType}},[t._v("Attack type")])},Oe=[];function ye(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function Ce(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ye(Object(r),!0).forEach((function(e){Object(P["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ye(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var we={components:{BaseDropdown:pe},computed:Ce({},Object(N["d"])({attackType:function(t){return t.cardState.attackType}}),{items:function(){return[{title:"- Normal -",value:K.NORMAL},{title:"- Healing -",value:K.HEALING}]}}),methods:Ce({},Object(N["c"])({setAttackType:"cardState/setAttackType"}))},xe=we,Se=Object(u["a"])(xe,ve,Oe,!1,null,null,null),Ie=Se.exports,Te=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("base-dropdown",{attrs:{items:t.items,zIndex:"24",selectedValue:t.attackRange},on:{select:t.setAttackRange}},[t._v("Range")])},ke=[];function Ae(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function _e(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ae(Object(r),!0).forEach((function(e){Object(P["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Ee={components:{BaseDropdown:pe},computed:_e({},Object(N["d"])({attackRange:function(t){return t.cardState.attackRange}}),{items:function(){var t=[];t.push({title:"- Own row -",value:0}),t.push({title:"- Melee -",value:1});for(var e=2;e<=5;e++)t.push({title:e+" Range",value:e});return t}}),methods:_e({},Object(N["c"])({setAttackRange:"cardState/setAttackRange"}))},je=Ee,De=Object(u["a"])(je,Te,ke,!1,null,null,null),Le=De.exports,Pe=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("base-dropdown",{attrs:{items:t.items,zIndex:"14",selectedValue:t.healthArmor},on:{select:t.setHealthArmor}},[t._v("Armor")])},Ne=[];function Re(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function $e(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Re(Object(r),!0).forEach((function(e){Object(P["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Be={components:{BaseDropdown:pe},computed:$e({},Object(N["d"])({healthArmor:function(t){return t.cardState.healthArmor}}),{items:function(){var t=[];t.push({title:"- No armor -",value:0});for(var e=1;e<=5;e++)t.push({title:e+" Armor",value:e});return t}}),methods:$e({},Object(N["c"])({setHealthArmor:"cardState/setHealthArmor"}))},Me=Be,Fe=Object(u["a"])(Me,Pe,Ne,!1,null,null,null),Ye=Fe.exports;function He(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function Ue(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?He(Object(r),!0).forEach((function(e){Object(P["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):He(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Xe={components:{BaseTextbox:Gt,BaseDivider:p,CardBudgetLabel:ie,CardTypeDropdown:ge,CardAttackTypeDropdown:Ie,CardAttackRangeDropdown:Le,CardHealthArmorDropdown:Ye},computed:Ue({},Object(N["d"])({cardName:function(t){return t.cardState.cardName},cardTitle:function(t){return t.cardState.cardTitle},cardTribe:function(t){return t.cardState.cardTribe},cardDescription:function(t){return t.cardState.cardDescription},cardPower:function(t){return t.cardState.power},cardAttack:function(t){return t.cardState.attack},cardHealth:function(t){return t.cardState.health},cardInitiative:function(t){return t.cardState.initiative}}),{DisplayedBudgetLabel:function(){return q}}),methods:Ue({},Object(N["c"])({setCardName:"cardState/setCardName",setCardTitle:"cardState/setCardTitle",setCardTribe:"cardState/setCardTribe",setCardDescription:"cardState/setCardDescription",setCardPower:"cardState/setPower",setCardAttack:"cardState/setAttack",setCardHealth:"cardState/setHealth",setCardInitiative:"cardState/setInitiative"}))},ze=Xe,Ze=(r("a61c"),Object(u["a"])(ze,Xt,zt,!1,null,"2f6b8f5c",null)),We=Ze.exports,Je=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("transition",{attrs:{name:"slide-fade",appear:""}},[r("div",{staticClass:"toolbar-tab tab-texts"},[r("div",{staticClass:"add-remove"},[r("reading-file-selector",{on:{read:t.setCustomImageData}}),r("base-button",{attrs:{icon:"fa-trash"},on:{click:t.clearCustomImageData}},[t._v("Remove artwork")])],1),r("base-textbox",{attrs:{value:t.customImageOffsetX,placeholder:"0"},on:{input:t.setCustomImageOffsetX}},[t._v("Horizontal offset")]),r("base-textbox",{attrs:{value:t.customImageOffsetY,placeholder:"0"},on:{input:t.setCustomImageOffsetY}},[t._v("Vertical offset")]),r("base-textbox",{attrs:{value:t.customImageZoom,placeholder:"0"},on:{input:t.setCustomImageZoom}},[t._v("Cropping")])],1)])},Ve=[],Ke=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("base-file-selector",{attrs:{"file-type":t.fileType},on:{select:t.onFileSelected}},[t._t("default")],2)},Ge=[],qe=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"base-file-selector"},[r("label",[t._t("default")],2),r("input",{attrs:{type:"file",accept:t.fileType},on:{change:t.onFileSelected}})])},Qe=[],tr={props:{fileType:String},methods:{onFileSelected:function(t){this.$emit("select",t.target.files[0])}}},er=tr,rr=(r("70aa"),Object(u["a"])(er,qe,Qe,!1,null,"2bc09d9a",null)),ar=rr.exports,nr={components:{BaseFileSelector:ar},props:{fileType:String},methods:{onFileSelected:function(t){var e=this,r=new FileReader;r.onloadend=function(){e.$emit("read",r.result)},r.readAsDataURL(t)}}},ir=nr,or=Object(u["a"])(ir,Ke,Ge,!1,null,null,null),sr=or.exports;function cr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function lr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?cr(Object(r),!0).forEach((function(e){Object(P["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var ur={components:{BaseButton:C,BaseTextbox:Gt,ReadingFileSelector:sr},computed:lr({},Object(N["d"])({customImageOffsetX:function(t){return t.cardState.customImageOffsetX},customImageOffsetY:function(t){return t.cardState.customImageOffsetY},customImageZoom:function(t){return t.cardState.customImageZoom}})),methods:lr({},Object(N["c"])({setCustomImageData:"cardState/setCustomImageData",setCustomImageZoom:"cardState/setCustomImageZoom",setCustomImageOffsetX:"cardState/setCustomImageOffsetX",setCustomImageOffsetY:"cardState/setCustomImageOffsetY",clearCustomImageData:"cardState/clearCustomImageData"}))},dr=ur,fr=(r("86d3"),Object(u["a"])(dr,Je,Ve,!1,null,"35e3e248",null)),pr=fr.exports,hr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("transition",{attrs:{name:"slide-fade",appear:""}},[r("div",{staticClass:"toolbar-tab tab-features"},[r("the-library-exporter"),r("base-divider"),r("the-library-importer")],1)])},mr=[],br=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("the-editor-mode-dropdown"),r("base-button",{on:{click:t.exportCurrentCard}},[t._v("Export current card")]),r("base-button",{on:{click:t.exportLibrary}},[t._v("Export library")])],1)},gr=[],vr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("base-dropdown",{attrs:{items:t.items,zIndex:"45",selectedValue:t.editorMode},on:{select:t.setEditorMode}},[t._v("Editor mode")])},Or=[];function yr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function Cr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?yr(Object(r),!0).forEach((function(e){Object(P["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var wr={components:{BaseDropdown:pe},computed:Cr({},Object(N["d"])({editorMode:function(t){return t.cardImporter.editorMode}}),{items:function(){return[{title:"Prototype",icon:"fa-vial",value:V.PROTOTYPE},{title:"Production",icon:"fa-database",value:V.PRODUCTION}]}}),methods:Cr({},Object(N["c"])({setEditorMode:"cardImporter/setEditorMode"}))},xr=wr,Sr=Object(u["a"])(xr,vr,Or,!1,null,null,null),Ir=Sr.exports;function Tr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function kr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Tr(Object(r),!0).forEach((function(e){Object(P["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Ar={components:{TheEditorModeDropdown:Ir,BaseButton:C},data:function(){return{buffer:""}},computed:kr({},Object(N["d"])({currentCard:function(t){return t.cardState},cardLibrary:function(t){return t.cardLibrary.data}})),methods:{onInput:function(t){this.buffer=t},exportCurrentCard:function(){var t=[this.currentCard],e=btoa(encodeURI(JSON.stringify(t)));Tt(e,kt(this.currentCard.cardName,"txt"),"text/plain")},exportLibrary:function(){var t=btoa(encodeURI(JSON.stringify(this.cardLibrary))),e=new Date,r=(e.getDate()<10?"0":"")+e.getDate(),a=e.getMonth()+1;a=(a<10?"0":"")+a;var n=r+"-"+a+"-"+e.getFullYear()+".txt";Tt(t,n,"text/plain")}}},_r=Ar,Er=Object(u["a"])(_r,br,gr,!1,null,null,null),jr=Er.exports,Dr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"the-library-importer"},[r("base-file-selector",{attrs:{"file-type":"text/plain"},on:{select:t.onFileSelected}}),t.shouldDisplayFileNotSelectedMessage?r("div",{staticClass:"info-message"},[t._v("Please select a library file to import")]):t._e(),t.shouldDisplayFileLoadingMessage?r("div",{staticClass:"info-message"},[t._v("File is being processed...")]):t._e(),t.shouldDisplayFileParsedMessage?r("div",{staticClass:"info-message"},[t._v("Successfully parsed "+t._s(t.libraryFileCards.length)+" cards")]):t._e(),t.shouldDisplayFileInvalidMessage?r("div",{staticClass:"info-message"},[t._v("Unable to parse selected file")]):t._e(),r("the-import-method-dropdown"),r("base-button",{on:{click:t.doImport}},[t._v("Import")])],1)},Lr=[],Pr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("base-dropdown",{attrs:{items:t.items,zIndex:"50",selectedValue:t.importMethod},on:{select:t.setImportMethod}},[t._v("Import method")])},Nr=[];function Rr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function $r(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Rr(Object(r),!0).forEach((function(e){Object(P["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Br={components:{BaseDropdown:pe},computed:$r({},Object(N["d"])({importMethod:function(t){return t.cardImporter.importMethod}}),{items:function(){return[{title:"Append",icon:"fa-folder-plus",value:J.APPEND},{title:"Replace",icon:"fa-folder-open",value:J.REPLACE}]}}),methods:$r({},Object(N["c"])({setImportMethod:"cardImporter/setImportMethod"}))},Mr=Br,Fr=Object(u["a"])(Mr,Pr,Nr,!1,null,null,null),Yr=Fr.exports;function Hr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function Ur(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Hr(Object(r),!0).forEach((function(e){Object(P["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Hr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Xr={components:{BaseButton:C,BaseFileSelector:ar,TheImportMethodDropdown:Yr},data:function(){return{libraryFileCards:[],libraryFileState:G.NOT_SELECTED}},computed:Ur({},Object(N["d"])({importMethod:function(t){return t.cardImporter.importMethod}}),{shouldDisplayFileNotSelectedMessage:function(){return this.libraryFileState===G.NOT_SELECTED},shouldDisplayFileLoadingMessage:function(){return this.libraryFileState===G.LOADING},shouldDisplayFileParsedMessage:function(){return this.libraryFileState===G.PARSED},shouldDisplayFileInvalidMessage:function(){return this.libraryFileState===G.INVALID}}),methods:Ur({},Object(N["c"])({pushToLibrary:"cardLibrary/push",clearLibrary:"cardLibrary/clear",registerArtwork:"cardArtwork/register"}),{onInput:function(t){this.buffer=t},doImport:function(){for(var t in this.importMethod===J.REPLACE&&this.clearLibrary(),this.libraryFileCards)this.pushToLibrary(this.libraryFileCards[t])},onFileSelected:function(t){var e=this,r=new FileReader;this.libraryFileCards=[],this.libraryFileState=G.LOADING,r.onloadend=function(){try{e.libraryFileCards=JSON.parse(decodeURI(atob(r.result.toString()))),e.libraryFileState=G.PARSED}catch(t){console.error(t),e.libraryFileState=G.INVALID}},r.readAsText(t)}})},zr=Xr,Zr=(r("3672"),Object(u["a"])(zr,Dr,Lr,!1,null,"ddcafce2",null)),Wr=Zr.exports,Jr={components:{BaseDivider:p,TheLibraryExporter:jr,TheLibraryImporter:Wr}},Vr=Jr,Kr=Object(u["a"])(Vr,hr,mr,!1,null,null,null),Gr=Kr.exports,qr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("transition",{attrs:{name:"slide-fade",appear:""}},[r("div",{staticClass:"toolbar-tab tab-output"},[r("div",{staticClass:"toolbar-tab-content"},[r("main-table")],1)])])},Qr=[],ta=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.library.length>0?r("div",{staticClass:"table-card-library"},[r("div",{staticClass:"library-table-controls"},[r("div",{staticClass:"selection-controls"},[r("btn-select-all"),t.isInSelectState?r("span",[r("btn-unselect-all"),r("btn-cancel-selection"),r("btn-delete")],1):t._e()],1)]),r("div",{staticClass:"library-items-container-wrapper"},[r("div",{staticClass:"library-items-container"},t._l(t.library.slice().reverse(),(function(t){return r("div",{key:t.id,staticClass:"library-item-wrapper"},[r("table-item",{attrs:{item:t}})],1)})),0)])]):t._e()},ea=[],ra=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("base-button",{on:{click:t.onClick}},[r("i",{staticClass:"fas fa-check-square"}),t._v(" Select all")])},aa=[],na={components:{BaseButton:C},methods:{onClick:function(){this.$root.$emit(z.ENABLE_LIBRARY_SELECTION),this.$root.$emit(z.SELECT_ALL_LIBRARY)}}},ia=na,oa=Object(u["a"])(ia,ra,aa,!1,null,null,null),sa=oa.exports,ca=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("base-button",{on:{click:t.onClick}},[r("i",{staticClass:"fas fa-square"}),t._v(" Unselect all")])},la=[],ua={components:{BaseButton:C},methods:{onClick:function(){this.$root.$emit(z.UNSELECT_ALL_LIBRARY)}}},da=ua,fa=Object(u["a"])(da,ca,la,!1,null,null,null),pa=fa.exports,ha=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("base-button",{on:{click:t.onClick}},[r("i",{staticClass:"fas fa-ban"}),t._v(" Cancel")])},ma=[],ba={components:{BaseButton:C},methods:{onClick:function(){this.$root.$emit(z.UNSELECT_ALL_LIBRARY),this.$root.$emit(z.CANCEL_LIBRARY_SELECTION)}}},ga=ba,va=Object(u["a"])(ga,ha,ma,!1,null,null,null),Oa=va.exports,ya=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("base-button",{staticClass:"btn-red",on:{click:t.onClick}},[r("i",{staticClass:"fas fa-trash-alt"}),t._v(" Delete")])},Ca=[],wa={components:{BaseButton:C},methods:{onClick:function(){this.$root.$emit(z.DELETE_FROM_LIBRARY)}}},xa=wa,Sa=Object(u["a"])(xa,ya,Ca,!1,null,null,null),Ia=Sa.exports,Ta=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"longpress",rawName:"v-longpress",value:t.onLongpress,expression:"onLongpress"}],staticClass:"library-item",on:{click:function(e){return t.onClick(t.item.id)}}},[t.$parent.isInSelectState?r("div",{staticClass:"library-item-checkbox"},[r("selection-checkbox",{attrs:{isSelected:t.isSelected}})],1):t._e(),r("div",{staticClass:"library-item-value library-item-name"},[t._v("\n\t\t"+t._s(t.item.displayName)+"\n\t")]),r("div",{staticClass:"library-item-value"},[t._v("\n\t\t"+t._s(t.item.timestamp)+"\n\t")])])},ka=[],Aa=(r("7f7f"),{bind:function(t,e,r){if("function"!==typeof e.value){var a=r.context.name,n="[longpress:] provided expression '".concat(e.expression,"' is not a function, but has to be");a&&(n+="Found in component '".concat(a,"' ")),console.warn(n)}var i=null,o=function(t){"click"===t.type&&0!==t.button||null===i&&(i=setTimeout((function(){c()}),1e3))},s=function(t){null!==i&&(clearTimeout(i),i=null)},c=function(t){e.value(t)};t.addEventListener("mousedown",o),t.addEventListener("touchstart",o),t.addEventListener("click",s),t.addEventListener("mouseout",s),t.addEventListener("touchend",s),t.addEventListener("touchcancel",s)}}),_a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("checkbox",{attrs:{isChecked:t.checked}},[t._v(" ")])},Ea=[],ja=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"checkbox-wrapper"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"checked"}],attrs:{id:t.id,type:"checkbox"},domProps:{checked:Array.isArray(t.checked)?t._i(t.checked,null)>-1:t.checked},on:{change:function(e){var r=t.checked,a=e.target,n=!!a.checked;if(Array.isArray(r)){var i=null,o=t._i(r,i);a.checked?o<0&&(t.checked=r.concat([i])):o>-1&&(t.checked=r.slice(0,o).concat(r.slice(o+1)))}else t.checked=n}}}),r("label",{attrs:{for:t.id}},[r("span"),t._t("default")],2)])},Da=[],La={props:["isChecked","onChecked"],computed:{id:function(){return"checkbox-"+wt()},checked:{get:function(){return this.isChecked},set:function(t){this.onChecked(t)}}}},Pa=La,Na=(r("293f"),Object(u["a"])(Pa,ja,Da,!1,null,"70161ca8",null)),Ra=Na.exports,$a={props:["isSelected"],components:{checkbox:Ra},computed:{checked:{get:function(){return this.isSelected}}}},Ba=$a,Ma=Object(u["a"])(Ba,_a,Ea,!1,null,null,null),Fa=Ma.exports,Ya={directives:{longpress:Aa},props:["item"],components:{selectionCheckbox:Fa},data:function(){return{isSelected:!1,clickFadeOutTimer:null}},mounted:function(){var t=this;this.$root.$on(z.SELECT_ALL_LIBRARY,(function(){t.isSelected=!0})),this.$root.$on(z.UNSELECT_ALL_LIBRARY,(function(){t.isSelected=!1})),this.$root.$on(z.DELETE_FROM_LIBRARY,(function(){t.isSelected&&(t.isSelected=!1,t.$store.commit("cardLibrary/delete",t.$store.getters["cardLibrary/getCardById"](t.item.id)))}))},methods:{onClick:function(t){this.$parent.isInSelectState?this.isSelected=!this.isSelected:(this.$store.commit("cardState/clear"),this.$store.commit("cardState/load",this.$store.getters["cardLibrary/getCardById"](t))),this.transitionAfterClick()},onLongpress:function(){this.$parent.isInSelectState||(this.$parent.isInSelectState=!0)},transitionAfterClick:function(){var t=this;this.$el.style.transition="all 0.3s",null!==this.clickFadeOutTimer&&clearTimeout(this.clickFadeOutTimer),this.clickFadeOutTimer=setTimeout((function(){t.$el.style.transition=""}),300)}}},Ha=Ya,Ua=(r("f3e6"),Object(u["a"])(Ha,Ta,ka,!1,null,"e3d06482",null)),Xa=Ua.exports,za={components:{btnSelectAll:sa,btnUnselectAll:pa,btnCancelSelection:Oa,btnDelete:Ia,tableItem:Xa},data:function(){return{isInSelectState:!1}},mounted:function(){var t=this;this.$root.$on(z.ENABLE_LIBRARY_SELECTION,(function(){t.isInSelectState=!0})),this.$root.$on(z.CANCEL_LIBRARY_SELECTION,(function(){t.isInSelectState=!1})),this.$root.$on(z.DELETE_FROM_LIBRARY,(function(){t.isInSelectState=!1}))},computed:{library:{get:function(){return this.$store.state.cardLibrary.data}}}},Za=za,Wa=(r("bdd7"),Object(u["a"])(Za,ta,ea,!1,null,"41b445fa",null)),Ja=Wa.exports,Va={components:{mainTable:Ja}},Ka=Va,Ga=Object(u["a"])(Ka,qr,Qr,!1,null,null,null),qa=Ga.exports;a["a"].use(Ut["a"]);var Qa,tn,en,rn,an,nn,on=new Ut["a"]({routes:[{path:"/",redirect:{name:"FeaturesTab"}},{path:"/features",name:"FeaturesTab",component:We},{path:"/artwork",name:"ArtworkTab",component:pr},{path:"/import",name:"ImportTab",component:Gr},{path:"/library",name:"LibraryTab",component:qa}]}),sn={namespaced:!0,state:{cardName:"",cardTitle:"",cardDescription:"",cardTribe:"",cardType:W.PAWN,power:10,attack:5,health:5,attackRange:1,healthArmor:0,initiative:5,attackType:K.NORMAL,customImageData:"",customImageOffsetX:0,customImageOffsetY:0,customImageZoom:0},mutations:{load:function(t,e){t.cardName=e.cardName,t.cardTitle=e.cardTitle,t.cardDescription=e.cardDescription,t.cardTribe=e.cardTribe,t.cardType=e.cardType,t.power=e.power||10,t.attack=e.attack,t.health=e.health,t.attackRange=e.attackRange,t.healthArmor=e.healthArmor,t.initiative=e.initiative,t.attackType=e.attackType,t.customImageData=e.customImageData,t.customImageOffsetX=e.customImageOffsetX,t.customImageOffsetY=e.customImageOffsetY,t.customImageZoom=e.customImageZoom||0},clear:function(t){t.cardName="",t.cardTitle="",t.cardDescription="",t.cardTribe="",t.cardType=W.PAWN,t.power=5,t.attack=5,t.health=5,t.attackRange=1,t.healthArmor=0,t.initiative=10,t.attackType=K.NORMAL,t.customImageData="",t.customImageOffsetX=0,t.customImageOffsetY=0,t.customImageZoom=0},setCardName:function(t,e){t.cardName=e},setCardTitle:function(t,e){t.cardTitle=e},setCardDescription:function(t,e){t.cardDescription=e},setCardTribe:function(t,e){t.cardTribe=e},setCardType:function(t,e){t.cardType=e},setPower:function(t,e){if(e.length>0&&isNaN(e))t.power=10;else if(0!==e.length){var r=parseInt(e);t.power=Math.max(1,Math.min(r,99))}},setAttack:function(t,e){if(e.length>0&&isNaN(e))t.attack=5;else if(0!==e.length){var r=parseInt(e);t.attack=Math.max(0,Math.min(r,99))}},setHealth:function(t,e){if(e.length>0&&isNaN(e))t.attack=5;else if(0!==e.length){var r=parseInt(e);t.health=Math.max(1,Math.min(r,99))}},setAttackRange:function(t,e){t.attackRange=e},setHealthArmor:function(t,e){t.healthArmor=e},setInitiative:function(t,e){if(e.length>0&&isNaN(e))t.initiative=10;else if(0!==e.length){var r=parseInt(e);t.initiative=Math.max(1,Math.min(r,99))}},setAttackType:function(t,e){t.attackType=e},setCustomImageData:function(t,e){t.customImageData=e},setCustomImageOffsetX:function(t,e){e.length>0&&isNaN(e)?t.customImageOffsetX=0:0!==e.length&&(t.customImageOffsetX=parseInt(e))},setCustomImageOffsetY:function(t,e){e.length>0&&isNaN(e)?t.customImageOffsetY=0:0!==e.length&&(t.customImageOffsetY=parseInt(e))},setCustomImageZoom:function(t,e){e.length>0&&isNaN(e)?t.customImageZoom=0:0!==e.length&&(t.customImageZoom=parseInt(e))},clearCustomImageData:function(t){t.customImageData="",t.customImageOffsetX=0,t.customImageOffsetY=0,t.customImageZoom=0}}},cn=sn,ln=Object(u["a"])(cn,Qa,tn,!1,null,null,null),un=ln.exports,dn={namespaced:!0,state:{data:[]},getters:{getCardById:function(t){return function(e){for(var r=0;r<t.data.length;r++)if(t.data[r].id===e)return t.data[r];return null}},getCardsByName:function(t){return function(e){return t.data.filter((function(t){return It(t.cardName)===It(e)}))}}},actions:{updateCard:function(t,e){var r=t.commit,a=t.getters,n=a["getCardsByName"](e.cardName);if(n.length>0){var i=n[n.length-1];r("delete",i)}r("push",e)}},mutations:{load:function(t,e){for(var r=0;r<e.length;r++)t.data.push(e[r])},clear:function(t){t.data.splice(0,t.data.length)},push:function(t,e){var r=JSON.parse(JSON.stringify(e));r.timestamp=Ct(new Date),r.displayName="",""===r.cardName?r.displayName="Unnamed":r.displayName=It(r.cardName);var a="["+r.attack+"/"+r.initiative+" "+St(r.cardType)+"]";r.displayName=a+" "+r.displayName,r.version=0;for(var n=t.data,i=0;i<n.length;i++)n[i].cardName===r.cardName&&n[i].version>=r.version&&(r.version=n[i].version+1);r.version>0&&(r.displayName+=" (v."+(r.version+1)+")"),""!==r.cardDescription&&(r.displayName+=" | "+It(r.cardDescription.replace(/\n/g," ⏎ "))),r.id=wt(),t.data.push(r)},delete:function(t,e){var r=t.data.indexOf(e);-1!==r&&t.data.splice(t.data.indexOf(e),1)}}},fn=dn,pn=Object(u["a"])(fn,en,rn,!1,null,null,null),hn=pn.exports,mn={namespaced:!0,state:{importMethod:J.APPEND,editorMode:V.PROTOTYPE},mutations:{setImportMethod:function(t,e){t.importMethod=e},setEditorMode:function(t,e){t.editorMode=e}}},bn=mn,gn=Object(u["a"])(bn,an,nn,!1,null,null,null),vn=gn.exports;a["a"].use(N["a"]);var On=new N["a"].Store({strict:!1,modules:{cardState:un,cardLibrary:hn,cardImporter:vn},plugins:[Rt,$t]});a["a"].config.productionTip=!1,new a["a"]({router:on,store:On,render:function(t){return t(Ht)}}).$mount("#app")},"5aa9":function(t,e,r){},"5c0b":function(t,e,r){"use strict";var a=r("e332"),n=r.n(a);n.a},"5f8a":function(t,e,r){"use strict";var a=r("fda5"),n=r.n(a);n.a},"68e2":function(t,e,r){},6953:function(t,e,r){},"70aa":function(t,e,r){"use strict";var a=r("4840"),n=r.n(a);n.a},"78a4":function(t,e,r){},"7dbe":function(t,e,r){},"86d3":function(t,e,r){"use strict";var a=r("d0b2"),n=r.n(a);n.a},"99b3":function(t,e,r){},"9f17":function(t,e,r){"use strict";var a=r("c068"),n=r.n(a);n.a},a2a0:function(t,e,r){},a61c:function(t,e,r){"use strict";var a=r("68e2"),n=r.n(a);n.a},aeed:function(t,e,r){},bdd7:function(t,e,r){"use strict";var a=r("4975"),n=r.n(a);n.a},c068:function(t,e,r){},d0af:function(t,e,r){},d0b2:function(t,e,r){},d300:function(t,e,r){},e332:function(t,e,r){},e402:function(t,e,r){"use strict";var a=r("a2a0"),n=r.n(a);n.a},e5ed:function(t,e,r){"use strict";var a=r("7dbe"),n=r.n(a);n.a},eab7:function(t,e,r){"use strict";var a=r("78a4"),n=r.n(a);n.a},f13b:function(t,e,r){},f3e6:function(t,e,r){"use strict";var a=r("d0af"),n=r.n(a);n.a},fda5:function(t,e,r){}});
//# sourceMappingURL=app.ccabef10.js.map